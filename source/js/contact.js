document.getElementById("contact-form").addEventListener("submit",(function(e){e.preventDefault();let s=document.getElementById("form-output-global");if(s.classList.remove("error","success"),this.classList.add("form-in-process"),s.innerHTML='<p><span class="icon text-middle fa fa-circle-o-notch fa-spin icon-xxs"></span><span>Sending</span></p>',s.classList.add("active"),this.checkValidity()){const e=grecaptcha.getResponse();if(""===e)return;{const t="https://europe-central2-luxurystayskapanaplovdiv.cloudfunctions.net/sendMail";let a=document.getElementById("subject").value,n=document.getElementById("name").value,c=document.getElementById("email").value,i=document.getElementById("message").value;fetch(t,{method:"POST",body:JSON.stringify({name:n,email:c,subject:a,message:i,grecaptcha_response:e})}).then((e=>{e.ok?(s.innerHTML=' <p class="snackbars-left"><span class="icon text-middle mdi mdi-check icon-xxs"></span><span>Successfully sent!</span></p>',s.classList.add("success"),this.reset(),setTimeout((()=>s.classList.remove("active","success")),2e3)):(s.innerHTML=' <p class="snackbars-left"><span class="icon icon-xxs mdi mdi-alert-outline text-middle"></span><span>reCAPTCHA is not verified</span></p>',s.classList.add("error"),setTimeout((()=>s.classList.remove("active","error")),2e3))})).catch((()=>{s.innerHTML=' <p class="snackbars-left"><span class="icon icon-xxs mdi mdi-alert-outline text-middle"></span><span>Aw, snap! Something went wrong.</span></p>',s.classList.add("error"),setTimeout((()=>s.classList.remove("active","error")),2e3)}))}}else s.innerHTML=' <p class="snackbars-left"><span class="icon icon-xxs mdi mdi-alert-outline text-middle"></span><span>Please, enter correct data.</span></p>',s.classList.add("error"),setTimeout((()=>s.classList.remove("active","error")),2e3)}));